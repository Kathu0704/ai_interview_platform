<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>HR Registration - Admin Panel</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            border-radius: 15px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
            overflow: hidden;
        }

        .header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 20px 30px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .header h1 {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .back-btn {
            background: rgba(255, 255, 255, 0.2);
            color: white;
            border: none;
            padding: 8px 16px;
            border-radius: 5px;
            text-decoration: none;
            transition: background 0.3s ease;
        }

        .back-btn:hover {
            background: rgba(255, 255, 255, 0.3);
            color: white;
            text-decoration: none;
        }

        .form-container {
            padding: 30px;
        }

        .section-title {
            color: #333;
            font-size: 1.3rem;
            margin-bottom: 20px;
            padding-bottom: 10px;
            border-bottom: 2px solid #667eea;
        }

        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin-bottom: 20px;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
        }

        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e1e5e9;
            border-radius: 8px;
            font-size: 1rem;
            transition: border-color 0.3s ease;
        }

        .form-control:focus {
            outline: none;
            border-color: #667eea;
        }

        .designation-section {
            margin-top: 20px;
        }

        .designation-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 10px;
            margin-top: 10px;
        }

        .designation-checkbox {
            display: flex;
            align-items: center;
            padding: 8px 12px;
            background: #f8f9fa;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s ease;
        }

        .designation-checkbox:hover {
            background: #e9ecef;
        }

        .designation-checkbox input[type="checkbox"] {
            margin-right: 8px;
        }

        .submit-btn {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 8px;
            font-size: 1rem;
            font-weight: 600;
            cursor: pointer;
            transition: transform 0.2s ease;
            width: 100%;
            margin-top: 20px;
        }

        .submit-btn:hover {
            transform: translateY(-2px);
        }

        .error-message {
            background: #fee;
            color: #c33;
            padding: 10px;
            border-radius: 5px;
            margin-bottom: 20px;
            border: 1px solid #fcc;
        }

        .field-error {
            color: #c33;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        .help-text {
            color: #666;
            font-size: 0.9rem;
            margin-top: 5px;
        }

        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .designation-grid {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>üë®‚Äçüíº HR Registration</h1>
            <a href="{% url 'admin_dashboard' %}" class="back-btn">‚Üê Back to Dashboard</a>
        </div>

        <div class="form-container">
            {% if messages %}
                {% for message in messages %}
                    <div class="error-message">
                        {{ message }}
                    </div>
                {% endfor %}
            {% endif %}

            <form method="POST">
                {% csrf_token %}
                
                <!-- Basic Personal Details -->
                <h2 class="section-title">üìã Basic Personal Details</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label for="{{ form.first_name.id_for_label }}">First Name *</label>
                        {{ form.first_name }}
                        {% if form.first_name.errors %}
                            <div class="field-error">{{ form.first_name.errors.0 }}</div>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        <label for="{{ form.last_name.id_for_label }}">Last Name *</label>
                        {{ form.last_name }}
                        {% if form.last_name.errors %}
                            <div class="field-error">{{ form.last_name.errors.0 }}</div>
                        {% endif %}
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="{{ form.email.id_for_label }}">Email ID *</label>
                        {{ form.email }}
                        {% if form.email.errors %}
                            <div class="field-error">{{ form.email.errors.0 }}</div>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        <label for="{{ form.phone_number.id_for_label }}">Phone Number *</label>
                        {{ form.phone_number }}
                        {% if form.phone_number.errors %}
                            <div class="field-error">{{ form.phone_number.errors.0 }}</div>
                        {% endif %}
                    </div>
                </div>

                <div class="form-row">
                    <div class="form-group">
                        <label for="{{ form.gender.id_for_label }}">Gender *</label>
                        {{ form.gender }}
                        {% if form.gender.errors %}
                            <div class="field-error">{{ form.gender.errors.0 }}</div>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        <label for="{{ form.date_of_birth.id_for_label }}">Date of Birth *</label>
                        {{ form.date_of_birth }}
                        <div class="help-text">Must be at least 26 years old.</div>
                        {% if form.date_of_birth.errors %}
                            <div class="field-error">{{ form.date_of_birth.errors.0 }}</div>
                        {% endif %}
                    </div>
                </div>

                <!-- Professional Details -->
                <h2 class="section-title">üíº Professional Details</h2>
                <div class="form-row">
                    <div class="form-group">
                        <label for="{{ form.field_of_expertise.id_for_label }}">Field of Expertise *</label>
                        {{ form.field_of_expertise }}
                        {% if form.field_of_expertise.errors %}
                            <div class="field-error">{{ form.field_of_expertise.errors.0 }}</div>
                        {% endif %}
                    </div>
                    <div class="form-group">
                        <label for="{{ form.years_of_experience.id_for_label }}">Years of Experience *</label>
                        {{ form.years_of_experience }}
                        {% if form.years_of_experience.errors %}
                            <div class="field-error">{{ form.years_of_experience.errors.0 }}</div>
                        {% endif %}
                    </div>
                </div>

                <div class="form-group">
                    <label for="{{ form.specialization_skills.id_for_label }}">Specialization / Skills</label>
                    {{ form.specialization_skills }}
                    <div class="help-text">Optional: Describe your areas of expertise</div>
                    {% if form.specialization_skills.errors %}
                        <div class="field-error">{{ form.specialization_skills.errors.0 }}</div>
                    {% endif %}
                </div>

                <!-- Designations Section -->
                <div class="designation-section">
                    <label>Designations Handled *</label>
                    <div class="help-text">Select all designations you handle in interviews</div>
                    <div id="designations-container">
                        <!-- Designations will be populated by JavaScript -->
                    </div>
                    {% if form.designations_handled.errors %}
                        <div class="field-error">{{ form.designations_handled.errors.0 }}</div>
                    {% endif %}
                </div>

                <!-- Login Credentials -->
                <h2 class="section-title">üîê Login Credentials</h2>
                <div class="form-group">
                    <label for="{{ form.password.id_for_label }}">Password *</label>
                    {{ form.password }}
                    {% if form.password.errors %}
                        <div class="field-error">{{ form.password.errors.0 }}</div>
                    {% endif %}
                </div>
                <div class="form-group">
                    <label for="{{ form.confirm_password.id_for_label }}">Confirm Password *</label>
                    {{ form.confirm_password }}
                    {% if form.confirm_password.errors %}
                        <div class="field-error">{{ form.confirm_password.errors.0 }}</div>
                    {% endif %}
                </div>

                <button type="submit" class="submit-btn">Register HR</button>
            </form>
        </div>
    </div>

    <script>
        // Designation data
        const IT_DESIGNATIONS = [
            'Software Developer', 'Java Developer', 'Python Developer', 'Frontend Developer',
            'Backend Developer', 'Full Stack Developer', 'DevOps Engineer', 'Data Scientist',
            'Machine Learning Engineer', 'UI/UX Designer', 'QA Engineer', 'System Administrator',
            'Database Administrator', 'Network Engineer', 'Cloud Engineer', 'Mobile Developer',
            'React Developer', 'Angular Developer', 'Node.js Developer', 'PHP Developer'
        ];
        
        const NON_IT_DESIGNATIONS = [
            'Marketing Executive', 'HR Manager', 'Sales Executive', 'Business Analyst',
            'Project Manager', 'Content Writer', 'Digital Marketing Specialist', 'SEO Specialist',
            'Social Media Manager', 'Customer Service Representative', 'Account Manager',
            'Operations Manager', 'Finance Manager', 'Administrative Assistant', 'Event Manager',
            'Public Relations Officer', 'Brand Manager', 'Market Research Analyst',
            'Business Development Executive', 'Product Manager'
        ];

        function updateDesignations() {
            const fieldSelect = document.getElementById('id_field_of_expertise');
            const container = document.getElementById('designations-container');
            const selectedField = fieldSelect.value;
            
            let designations = [];
            if (selectedField === 'IT') {
                designations = IT_DESIGNATIONS;
            } else if (selectedField === 'Non-IT') {
                designations = NON_IT_DESIGNATIONS;
            }
            
            container.innerHTML = '';
            
            if (designations.length > 0) {
                const grid = document.createElement('div');
                grid.className = 'designation-grid';
                
                designations.forEach(designation => {
                    const checkboxDiv = document.createElement('div');
                    checkboxDiv.className = 'designation-checkbox';
                    
                    const checkbox = document.createElement('input');
                    checkbox.type = 'checkbox';
                    checkbox.name = 'designations_handled';
                    checkbox.value = designation;
                    checkbox.id = 'designation_' + designation.replace(/\s+/g, '_');
                    
                    const label = document.createElement('label');
                    label.htmlFor = 'designation_' + designation.replace(/\s+/g, '_');
                    label.textContent = designation;
                    
                    checkboxDiv.appendChild(checkbox);
                    checkboxDiv.appendChild(label);
                    grid.appendChild(checkboxDiv);
                });
                
                container.appendChild(grid);
            } else {
                container.innerHTML = '<p style="color: #666;">Please select a field of expertise first.</p>';
            }
        }

        // Initialize designations on page load
        document.addEventListener('DOMContentLoaded', function() {
            updateDesignations();
            // Set DOB max to today minus 26 years
            const dob = document.getElementById('id_date_of_birth');
            if (dob) {
                const today = new Date();
                const maxDate = new Date(today.getFullYear() - 26, today.getMonth(), today.getDate());
                const yyyy = maxDate.getFullYear();
                const mm = String(maxDate.getMonth() + 1).padStart(2, '0');
                const dd = String(maxDate.getDate()).padStart(2, '0');
                dob.max = `${yyyy}-${mm}-${dd}`;
            }
        });
    </script>
</body>
</html>










